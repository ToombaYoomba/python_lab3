# Лабораторная №3 "числовыдаватели-инатор". Сложность Мedium. Морхов Захар Александрович. М80-101БВ-25

* **Цель:** Написать Алгоритмический мини-пакет (структуры данных и сортировки)
* **Библиотеки:** *typing*, *collections*, *random*, *time*
* **Допущения:**
  - Входные данные для функций сортировки не универсальны
  - Некоторые функции сортировки не работают с: отрицательными числами, дробными числами или наоборот целыми
  - Аргументы к функциям пишутся через `; `
  - Ключи и компараторы поддерживаются только определёнными функциями сортировки
  - Ключ в функции сортировки должен работать с числами (то же самое для компаратора)
  - Бенчмарки отдельно прописаны именно для функций сортировки. А так показывается премя выполнения каждой функции факториала/Фибоначчи и сортировок (для стэков это смысла не имеет)

* **Чему я научился:**
    - Реализация различных прикольных алгоритмов сортировки
    - Создание бэнчмарков
    - Автоматическая генерация списков
    - Передача нескольких аргументов подфункции

## Структура проекта

 <pre>
    .
    ├── lab<# лабораторной работы>             # Кодовая база лабораторной работы
    │   ├── src/                               # Исходный код
    │   |   ├── fact_fibo/                     # Функции вычисления факториала и числа фибоначи
    │   |   ├── sort_methods/                  # Функции сортировки числовых массивов
    │   |   ├── test_generators/               # Функции генерации числовых массивов
    │   ├── tests/                             # Pytests
    │   ├── uv.lock                            # зависимости проекта
    │   ├── report.pdf                         # Отчет
    │   ├── .gitignore                         # git ignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание проекта, с описанием файлов и с титульником о том,
                                               # что и какая задача
    │   ├── .vscode                            # настройки vscode
</pre>


### Алгоритм решения
  1. Инициализация программы и место для ввода функции
  2. Пользователь вводит функцию с её аргументами
  3. Программа проводит парсинг функции и её аргументов
  4. Запускается соответствующая функция с переданными данными
  5. Происходит разделение данных внутри функции: аргументы, ключи, компараторы...
  6. Выполняются соответствующие действия для каждой функции:
        - `help`
          - Вывод доступных функций
        - `factorial/factorial_recusrive <number>`:
          - Вывод значения факториала указанного числа
          - Поиск факториала путём умножения числа на факториал следующего/пердыдущего числа.
        - `fibo/fibo_recusrive <number>`:
          - Вывод значения числа фибоначи указанного номера
          - Поиск числа фибоначи путём сложения числа с числом фибоначи следующего/пердыдущего номера.
        - `counting_sort/radix_sort <array>`:
          - Сортировка указанного массива целых чисел по неубыванию
          - `radix_sort` не работает для отрицательных чисел
        - `bucket_sort <array>; <buckets>`:
          - Сортировка указанного массива дробных чисел от 0 до 1 по неубыванию
          - `<buckets>` отвечает за число "вёдер", на которые распределяются числа
        - `bubble_sort/heap_sort/quick_sort <array>; <key>; <cmp>`:
          - Сортировка указанного массива целых чисел по неубыванию
          - `<key>` - аргумент, отвечаюций за то, что сравнивается в числе. Например ключ `lambda x: len(str(x))` сортирует числа по их длине
          - Не всегда сортировка прямо равна соответствующей сортировке `sort()` c тем же ключом
          - `<cmp>` - аргумент, отвечаюций за то, как сравниваются числа. Например ключ `lambda a, b: b - a` сортирует числа по невозрастанию
        - `benchmark`
          - Проводит бэнчмарк по всем функциям сортировки по рандомно сгенерированным массивам
        - `show_arrays`
          - Показывает все рандомные массивы, которые используются для `benchmark`
        - `Stack <name>; <arr>`
          - Создание стэка `<name>` целых чисел с начальным массивом `<arr>`
        - `<name> push; <number>`
          - Добавление в верх стэка числа
        - `<name> is_empty`
          - Проверка, если стэк пустой
        - `<name> peek`
          - Показывает верхний элемент в стэке
        - `<name> pop`
          - Удаляет верхний элемент из стэка
        - `<name> min`
          - Выводит минимальный элемент в стэке
        - `<name> len`
          - Выводит длину стэка
  9. После выполнения функции выводится её результат и её бэнчмар в случае функций сортировки и факториала/Фибоначчи
  10. Возврат к шагу 1 (или выход из системы при вводе `q`)

## Интересные тест-кейсы
 - Не все функции работают с отрицательными числами
 - При использовании например ключа `lambda x: len(str(x))` на массиве `[0 1 200 101 300]` числа отсортируются, как если бы обычным `sort()`
 - При вводе пустого массива возвращается пустой массив (хотя в некоторых функциях нужно отдельно это прописывать)

## Инструкция к использованию
```запустить мини-пакет```
```ввести функцию```
```при необходимости выйти при помощи "q"```

### Установить репозиторий
```pip install -e git+https://github.com/ToombaYoomba/python_lab3``` \
```cd python_lab3```

### Запустить
```py -m src.main```

### Синтаксис
* Для разделения между аргументами функций используется `; `
* Опции ключа сортировки и компаратора пишутся соответственно через `key=` и `cmp=`
* Аргументы массива пишутся через пробел
* Сам массив никак не отделяется (за исключением уже указанного отделения от остальных аргументов)
* Не допускаются лишние пробелы
* Пример идеального ввода: `bubble_sort 0 3 1 2; key=lambda x: len(str(x)); cmp=lambda a, b: b - a`

### ИСПАНЦЫ!!!
Можно отключить красивый вывод при помощи замены переменной `pretty` на значение `False`

Вдохновение - `"числовыдаватели-инатор"` тоже устаёт, и ему нужен чай/кофе после работы

```
  ⠀⠀⠀⠀⠀⠀⠀⠀ ⠈⢳⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡾⡇⠀⢶⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⣠⡾⢋⡼⠁⠀⣸⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⣿⣳⠏⠀⣠⠞⣡⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⢿⣿⡄⢸⣯⡾⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠳⠸⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⡀⢀⣀⣀⣀⣀⣀⣀⣀⣀⣀⣁⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⡟⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⠛⢻⢿⣷⢀⣀⣀⣀⡀⠀
⢸⡇⠀⣶⢦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠶⣒⣒⣿⣋⣥⣄⡉⢻⣆
⢸⣿⠈⣇⣾⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠶⠶⢶⣿⠁⠀⢸⡇⢰⣿
⠀⢻⣆⢻⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠒⠒⣾⣯⣤⣴⠟⣡⣿⠃
⠀⠈⢿⣎⠻⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠛⣿⣿⣭⣥⣴⡿⠟⠁⠀
⠀⠀⠈⢿⣷⣄⠑⣦⡄⠀⠀⠀⣀⠀⢛⣻⣿⡟⠉⠉⠉⠀⠀⠀⠀⠀
⠀⣴⡶⠶⠿⠿⢿⣶⣤⣤⣤⣤⣽⣿⠿⠛⣛⣟⣷⡆⠀⠀⠀⠀⠀⠀
⠀⠛⠷⠶⣤⣤⣤⣤⣴⣾⣿⣿⣶⣦⣤⣶⣶⡾⠟⠁⠀⠀⠀⠀⠀⠀
```


